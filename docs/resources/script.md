---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "script Resource - terraform-provider-script"
subcategory: ""
description: |-
  This provider provides a script resource which delegates the resource cycle completely to CRUD scripts that you provide.

```hcl
resource "script" "new" {
    create = ["pwsh", "${path.root}/create.ps1", "-NoLogo"]
    read = ["pwsh", "${path.root}/read.ps1", "##ID##", "-NoLogo"]
    update = ["pwsh", "${path.root}/update.ps1", "##ID##", "##CS##"]
    delete = ["pwsh", "${path.root}/delete.ps1", "##ID##"]
    import = ["pwsh", "${path.root}/read.ps1", "##ID##"]
    target_state = ["pwsh", "${path.root}/target-state.ps1", "-NoLogo"]
    working_dir = path.root
}
```
---

# script (Resource)

`script` resource delegates the terraform resource cycle completely to scripts that you provide.

```hcl
resource "script" "new" {
    create = ["pwsh", "${path.root}/create.ps1", "-NoLogo"]
    read = ["pwsh", "${path.root}/read.ps1", "##ID##", "-NoLogo"]
    update = ["pwsh", "${path.root}/update.ps1", "##ID##", "##CS##"]
    delete = ["pwsh", "${path.root}/delete.ps1", "##ID##"]
    target_state = ["pwsh", "${path.root}/target-state.ps1", "-NoLogo"]
    working_dir = path.root
}
```

- Your target state is defined by a single string, it can be anything but I recommend to use a serialized JSON.
- The provider excepts your scripts to work with a simple JSON structure:

```json
{ 
  "id" : "ID of your resource", 
  "resource" : "the resource string" 
}
```

See the [powershell example](https://github.com/czmirek/terraform-provider-script/tree/main/examples)

## Schema

### Required

- **create** (List of String) Command to run a create script. Example: `create = ["pwsh", "${path.root}/create.ps1", "-NoLogo"]`
- **delete** (List of String) Command to run a delete script. Placeholder `##ID##` is replaced with the resource id. Example: `delete = ["pwsh", "${path.root}/delete.ps1", "##ID##"]`
- **read** (List of String) Command to run a read script which can accept the ID of the resource and returns the external state.Placeholder ##ID## is replaced with the resource id. Example: `read = ["pwsh", "${path.root}/read-my-resource.ps1", "##ID##", "-NoLogo"]`The read is expected to write to output a JSON with an id and resource property, see the resource description
- **target_state** (List of String) Command to output the resource string which is considered to be a target state.
The string can be anything but you should make it a serialized JSON of whatever data you need
because terraform can detect the serialized JSON and show individual property/value changes in your plan.

Example: `target_state = ["pwsh", "${path.root}/target-state.ps1", "-NoLogo"]`
- **update** (List of String) Command to run an update script.
Placeholder `##ID##` is replaced with the resource id, `##CS##` by string resource itself.
Example: `update = ["pwsh", "${path.root}/update.ps1", "##ID##", "##CS##"]`
- **working_dir** (String) Working directory of the running scripts

### Optional

- **id** (String) The ID of this resource.

### Read-Only

- **resource** (String) The resource string itself. This is whatever you provide in the `target_state` script.


